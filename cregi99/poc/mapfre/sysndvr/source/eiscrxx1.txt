TABLE NAME (ENDEVOR);     /* SCRIPT FOR IIF - CHANGE RECORDS */
CTRL;
  IACT (TS0B06I);         /* INQUIRY CHANGE FOR ACTIONS   */
  RACT (TS0B06R);         /* RETRIEVE CHANGE FOR ACTIONS  */
  CACT (TS0B06C);         /* CREATE CHANGE FOR ACTIONS    */
  UACT (TS0B06U);         /* UPDATE CHANGE FORR ACTIONS   */
ECTRL;

USE(ADD, BEFORE, STANDALONE);

NOTFOUND (CREATE,ADD0010);
FOUND    (ADD0020);

LABEL ADD0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
 /* WHEN CREATING IIF RECORDS VIA THE INTERFACE IT IS          */
 /* NECESSARY TO POPLUATE THE RECORD WITH A FEW MORE FIELDS    */
 /* BECAUSE IIF HAS MORE REQUIRED FIELDS THAN THE STANDARD     */
 /* CHANGE OR PROBLEM RECORDS. AFTER CREATION, IIF RECORDS ARE */
 /* SAVED AS EITHER CHANGE OR PROBLEM RECORDS.                 */

     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV2ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL ADD0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL ADD0022;
ELABEL;

LABEL ADD0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;
EUSE;

USE (ADD, AFTER, STANDALONE);

FOUND    (ADD0010);
NOTFOUND (RETURN);

LABEL ADD0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV2ENV / =EV2SYS / =EV2SUB ') -
                     ('/ =EV2TYP / =EV2STAGE / =EV2ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (UPDATE, BEFORE, STANDALONE);

NOTFOUND (CREATE,UPT0010);
FOUND    (UPT0020);

LABEL UPT0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV2ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL UPT0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL UPT0022;
ELABEL;

LABEL UPT0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (UPDATE, AFTER, STANDALONE);

FOUND    (UPT0010);
NOTFOUND (RETURN);

LABEL UPT0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV2ENV / =EV2SYS / =EV2SUB ') -
                     ('/ =EV2TYP / =EV2STAGE / =EV2ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (RESTORE,BEFORE, STANDALONE);

NOTFOUND (CREATE,RST0010);
FOUND    (RST0020);

LABEL RST0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV2ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL RST0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL RST0022;
ELABEL;

LABEL RST0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (RESTORE,AFTER, STANDALONE);

FOUND    (RST0010);
NOTFOUND (RETURN);

LABEL RST0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
            TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
            TEXT ('SOURCE ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                 ('/ =EV1TYP / =EV1STG# / =EV1ELMFN')
            TEXT ('TARGET ELEMENT: =EV2ENV / =EV2SYS / =EV2SUB ') -
                 ('/ =EV2TYP / =EV2STAGE / =EV2ELMFN')
            TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                 ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (GENERATE, BEFORE, STANDALONE);

NOTFOUND (CREATE,GEN0010);
FOUND    (GEN0020);

LABEL GEN0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL GEN0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL GEN0022;
ELABEL;

LABEL GEN0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (GENERATE ,AFTER, STANDALONE);

FOUND    (GEN0010);
NOTFOUND (RETURN);

LABEL GEN0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (RETRIEVE, BEFORE, STANDALONE);

NOTFOUND (CREATE,RET0010);
FOUND    (RET0020);

LABEL RET0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL RET0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL RET0022;
ELABEL;

LABEL RET0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (RETRIEVE, AFTER, STANDALONE);

FOUND    (RET0010);
NOTFOUND (RETURN);

LABEL RET0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (ARCHIVE, BEFORE, STANDALONE);

NOTFOUND (CREATE,ARC0010);
FOUND    (ARC0020);

LABEL ARC0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL ARC0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL ARC0022;
ELABEL;

LABEL ARC0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (ARCHIVE, AFTER, STANDALONE);

FOUND    (ARC0010);
NOTFOUND (RETURN);

LABEL ARC0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('TARGET: =FI2DSN =FI2MBR')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (DELETE, BEFORE, STANDALONE);

NOTFOUND (CREATE,DEL0010);
FOUND    (DEL0020);

LABEL DEL0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL DEL0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL DEL0022;
ELABEL;

LABEL DEL0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (DELETE, AFTER, STANDALONE);

FOUND    (DEL0010);
NOTFOUND (RETURN);

LABEL DEL0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (MOVE, BEFORE, STANDALONE);

NOTFOUND (CREATE,MOV0010);
FOUND    (MOV0020);

LABEL MOV0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL MOV0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL MOV0022;
ELABEL;

LABEL MOV0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (MOVE, AFTER, STANDALONE);

FOUND    (MOV0010);
NOTFOUND (RETURN);

LABEL MOV0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('SOURCE ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('TARGET ELEMENT: =EV2ENV / =EV2SYS / =EV2SUB ') -
                     ('/ =EV2TYP / =EV2STAGE / =EV2ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;

USE (TRANSFER, BEFORE, STANDALONE);

NOTFOUND (CREATE,TRA0010);
FOUND    (TRA0020);

LABEL TRA0010;       /* CHANGE RECORD NOT FOUND: CREATE ONE */
  CRITERIA;
  ECRITERIA;
     POPULATE;
       FIELD PANEL(BLG6REQN) INDEX(S0B59) VALUE(=USER);
       FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
       FIELD PANEL(BLG6REQD) INDEX(S0C49) VALUE(=TIME);
       FIELD PANEL(BLG600AA) INDEX(S0B5A) VALUE('CHNGCONT');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BLG6SP01) INDEX(S0B96) VALUE('CHNGCONT');
       FIELD PANEL(BLG6REVR) INDEX(S0BB6) VALUE('CHNGCONT');
       FIELD PANEL(BLG6DSAB) INDEX(S0E0F) VALUE(=COMM);
       FIELD PANEL(BTN6DVNM) INDEX(S0CA9) VALUE(=EV1ELM);
       FIELD PANEL(BTN6PRII) INDEX(S0BE6) VALUE('3');
       FIELD PANEL(BTN600CN) INDEX(S0B5C) VALUE('CHNGCONT');
       FIELD PANEL(BTN6CDES) INDEX(S7D64)
                TEXT ('RECORD CREATED BY ENDEVOR')
                TEXT ('USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
       FIELD PANEL(BTN6CDES) INDEX(S7D66)
                TEXT ('JUSTIFICATION TO FOLLOW');
       FIELD PANEL(BTN6CDES) INDEX(S7D68)
                TEXT ('BACKOUT DATA TO FOLLOW');
     EPOPULATE;
  RC(0);
ELABEL;

LABEL TRA0020;       /* CHANGE RECORD FOUND */
  RC (0);
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('OPEN');
  ECRITERIA;
     POPULATE;
     EPOPULATE;
  CFAIL TRA0022;
ELABEL;

LABEL TRA0022;       /* STATUS NOT OPEN - CHECK FOR INITIAL  */
  CRITERIA;
    FIELD PANEL(BLG6STAT) INDEX(S0BEE) VALUE('INITIAL');
       IFNO;
         RC (8);
         MSG ('INVALID STATUS - MUST BE INITIAL OR OPEN');
       EIF;
  ECRITERIA;
     POPULATE;
     EPOPULATE;
ELABEL;

EUSE;

USE (TRANSFER, AFTER, STANDALONE);

FOUND    (TRA0010);
NOTFOUND (RETURN);

LABEL TRA0010;
   CRITERIA;
   ECRITERIA;
        POPULATE;
          FIELD PANEL(BLG0C010) INDEX(S0E01)
                TEXT ('ACTION PROCESSING COMPLETED RC = =ACTRC')
                TEXT ('SOURCE ELEMENT: =EV1ENV / =EV1SYS / =EV1SUB ') -
                     ('/ =EV1TYP / =EV1STAGE / =EV1ELMFN')
                TEXT ('TARGET ELEMENT: =EV2ENV / =EV2SYS / =EV2SUB ') -
                     ('/ =EV2TYP / =EV2STAGE / =EV2ELMFN')
                TEXT ('ACTION: =ACTION USER: =USER DATE: =DATE ') -
                     ('TIME: =TIME');
        EPOPULATE;
ELABEL;
EUSE;



ETABLE;
